{"version":3,"sources":["coutdown.js","main.js"],"names":["countUp","el","setVars","init","console","log","number","querySelectorAll","observerOptions","root","rootMargin","threshold","observer","IntersectionObserver","entries","forEach","entry","end","parseFloat","target","dataset","countupNumber","replace","decimals","countDecimals","isIntersecting","iterateValue","length","observe","start","duration","startTimestamp","step","timestamp","elapsedPercent","easedProgress","Math","min","easeOutQuint","interimNumber","abs","innerHTML","formatNumber","window","requestAnimationFrame","x","pow","val","floor","toString","split","toLocaleString","minimumFractionDigits","maximumFractionDigits","googleTranslateElementInit","google","translate","TranslateElement","pageLanguage","includedLanguages","layout","InlineLayout","SIMPLE","onChangeFontSize","value","onToggleFZSlideUp","dropdownEl","$","slideUp","onToggleFZSlideDown","slideDown","document","ready","dataModules","element","AOS","heroBannerFlicking","Flicking","circular","renderOnlyVisible","on","e","index","onChangeHeroBannerBackground","onChangeHeroBannerFlicking","switchToColorSet1","switchToColorSet2","switchToColorSet3","switchToColorSet4","flickingOptions","bound","panelsPerView","align","moveType","flicking","arrowPlugin","Plugins","Arrow","parentEl","prevElSelector","nextElSelector","addPlugins"],"mappings":"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","file":"main.js","sourcesContent":["class countUp {\n    constructor(el) {\n        this.el = el;\n        this.setVars();\n        this.init();\n    }\n\n    setVars() {\n        console.log(\"aaaaaaaaaa\");\n\n        this.number = this.el.querySelectorAll(\"[data-countup-number]\");\n        this.observerOptions = { root: null, rootMargin: \"0px 0px\", threshold: 0 };\n        this.observer = new IntersectionObserver((entries) => {\n            entries.forEach((entry) => {\n                const end = parseFloat(entry.target.dataset.countupNumber.replace(/,/g, \"\"));\n                const decimals = this.countDecimals(end);\n                if (entry.isIntersecting) {\n                    this.iterateValue(entry.target, end, decimals);\n                }\n            });\n        }, this.observerOptions);\n    }\n\n    init() {\n        if (this.number.length > 0) {\n            this.number.forEach((el) => {\n                this.observer.observe(el);\n            });\n        }\n    }\n\n    iterateValue(el, end, decimals) {\n        const start = 0;\n        const duration = 2500;\n        let startTimestamp = null;\n\n        const step = (timestamp) => {\n            if (!startTimestamp) startTimestamp = timestamp;\n            const elapsedPercent = (timestamp - startTimestamp) / duration;\n            const easedProgress = Math.min(this.easeOutQuint(elapsedPercent), 1);\n            let interimNumber = Math.abs(easedProgress * (end - start) + start);\n            el.innerHTML = this.formatNumber(interimNumber, decimals);\n            if (easedProgress < 1) {\n                window.requestAnimationFrame(step);\n            }\n        };\n\n        window.requestAnimationFrame(step);\n    }\n\n    easeOutQuad(x) {\n        return 1 - Math.pow(1 - x, 3);\n    }\n\n    easeOutQuint(x) {\n        return 1 - Math.pow(1 - x, 5);\n    }\n\n    countDecimals(val) {\n        if (Math.floor(val) === val) return 0;\n        return val.toString().split(\".\")[1]?.length || 0;\n    }\n\n    formatNumber(val, decimals) {\n        return val.toLocaleString(\"en-US\", {\n            minimumFractionDigits: decimals,\n            maximumFractionDigits: decimals,\n        });\n    }\n}\n","function googleTranslateElementInit() {\n    new google.translate.TranslateElement(\n        {\n            pageLanguage: \"zh-TW\",\n            includedLanguages: \"zh-TW,en\",\n            layout: google.translate.TranslateElement.InlineLayout.SIMPLE,\n        },\n        \"google_translate_element\"\n    );\n}\n\nfunction onChangeFontSize(value) {\n    console.log(value);\n}\nfunction onToggleFZSlideUp() {\n    const dropdownEl = \".fontsize__dropdown\";\n    $(dropdownEl).slideUp();\n}\nfunction onToggleFZSlideDown() {\n    const dropdownEl = \".fontsize__dropdown\";\n    $(dropdownEl).slideDown();\n}\n\n$(document).ready(() => {\n    googleTranslateElementInit();\n\n    const dataModules = [...document.querySelectorAll('[data-module=\"countup\"]')];\n    dataModules.forEach((element) => {\n        new countUp(element);\n    });\n});\n\nAOS.init();\n\n// ====================\nconst heroBannerFlicking = new Flicking(\"#hero__banner--flicking\", {\n    circular: true,\n    renderOnlyVisible: true,\n})\n    .on(\"willChange\", function (e) {\n        const index = e.index;\n        // TODO: 背景替換\n        onChangeHeroBannerBackground(index);\n        // TODO: Pagination 動畫\n        onChangeHeroBannerFlicking(index);\n        // TODO: 圖片 Blur-Out\n    })\n    .on(\"changed\", function (e) {\n        const index = e.index;\n        // TODO: 建立圖片往上位移滾動機制\n        // TODO: 圖片 Blur-In\n        console.log(document.querySelectorAll(\".hero__banner__image\"));\n    });\n\nconst onChangeHeroBannerBackground = (index) => {\n    switch (index) {\n        case 0:\n            switchToColorSet1();\n            break;\n        case 1:\n            switchToColorSet2();\n            break;\n        case 2:\n            switchToColorSet3();\n            break;\n        case 3:\n            switchToColorSet4();\n            break;\n        default:\n            break;\n    }\n};\n\nconst onChangeHeroBannerFlicking = (index) => {\n    console.log(index);\n};\n\n// heroBannerFlicking.addPlugins(new Flicking.Plugins.AutoPlay({ duration: 5000 }));\n// heroBannerFlicking.addPlugins(new Flicking.Plugins.Fade());\n\nconst flickingOptions = {\n    circular: true,\n    bound: true,\n    panelsPerView: 1,\n    align: \"center\",\n    moveType: \"strict\",\n    renderOnlyVisible: true,\n};\n\ndocument.querySelectorAll(\".item__slider--flicking\").forEach((el) => {\n    const flicking = new Flicking(el, flickingOptions);\n\n    const arrowPlugin = new Flicking.Plugins.Arrow({\n        parentEl: el, // 指向每個自己的容器\n        prevElSelector: \".flicking-arrow-prev\",\n        nextElSelector: \".flicking-arrow-next\",\n    });\n\n    flicking.addPlugins(arrowPlugin);\n});\n"]}