{"version":3,"sources":["coutdown.js","main.js"],"names":["countUp","el","setVars","init","number","querySelectorAll","observerOptions","root","rootMargin","threshold","observer","IntersectionObserver","entries","forEach","entry","end","parseFloat","target","dataset","countupNumber","replace","decimals","countDecimals","isIntersecting","iterateValue","length","observe","start","duration","startTimestamp","step","timestamp","elapsedPercent","easedProgress","Math","min","easeOutQuint","interimNumber","abs","innerHTML","formatNumber","window","requestAnimationFrame","x","pow","val","floor","toString","split","toLocaleString","minimumFractionDigits","maximumFractionDigits","googleTranslateElementInit","google","translate","TranslateElement","pageLanguage","includedLanguages","layout","InlineLayout","SIMPLE","onChangeFontSize","value","onToggleFZSlideUp","dropdownEl","$","slideUp","onToggleFZSlideDown","slideDown","document","ready","dataModules","element","AOS","slider__item","createHeroBannerFlicking","selector","Flicking","circular","renderOnlyVisible","on","e","index","onChangeHeroBannerBackground","onChangeHeroBannerFlicking","style","filter","selectors","heroBannerFlickings","map","addPlugins","Plugins","Sync","type","synchronizedFlickingOptions","flicking","isClickable","AutoPlay","Fade","switchToColorSet1","switchToColorSet2","switchToColorSet3","switchToColorSet4","pagination","classList","remove","add","onChangeHeroFlicking","moveTo","flickingOptions","bound","panelsPerView","align","moveType","arrowPlugin","Arrow","parentEl","prevElSelector","nextElSelector"],"mappings":"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","file":"main.js","sourcesContent":["class countUp {\n    constructor(el) {\n        this.el = el;\n        this.setVars();\n        this.init();\n    }\n\n    setVars() {\n        this.number = this.el.querySelectorAll(\"[data-countup-number]\");\n        this.observerOptions = { root: null, rootMargin: \"0px 0px\", threshold: 0 };\n        this.observer = new IntersectionObserver((entries) => {\n            entries.forEach((entry) => {\n                const end = parseFloat(entry.target.dataset.countupNumber.replace(/,/g, \"\"));\n                const decimals = this.countDecimals(end);\n                if (entry.isIntersecting) {\n                    this.iterateValue(entry.target, end, decimals);\n                }\n            });\n        }, this.observerOptions);\n    }\n\n    init() {\n        if (this.number.length > 0) {\n            this.number.forEach((el) => {\n                this.observer.observe(el);\n            });\n        }\n    }\n\n    iterateValue(el, end, decimals) {\n        const start = 0;\n        const duration = 2500;\n        let startTimestamp = null;\n\n        const step = (timestamp) => {\n            if (!startTimestamp) startTimestamp = timestamp;\n            const elapsedPercent = (timestamp - startTimestamp) / duration;\n            const easedProgress = Math.min(this.easeOutQuint(elapsedPercent), 1);\n            let interimNumber = Math.abs(easedProgress * (end - start) + start);\n            el.innerHTML = this.formatNumber(interimNumber, decimals);\n            if (easedProgress < 1) {\n                window.requestAnimationFrame(step);\n            }\n        };\n\n        window.requestAnimationFrame(step);\n    }\n\n    easeOutQuad(x) {\n        return 1 - Math.pow(1 - x, 3);\n    }\n\n    easeOutQuint(x) {\n        return 1 - Math.pow(1 - x, 5);\n    }\n\n    countDecimals(val) {\n        if (Math.floor(val) === val) return 0;\n        return val.toString().split(\".\")[1]?.length || 0;\n    }\n\n    formatNumber(val, decimals) {\n        return val.toLocaleString(\"en-US\", {\n            minimumFractionDigits: decimals,\n            maximumFractionDigits: decimals,\n        });\n    }\n}\n","function googleTranslateElementInit() {\n    new google.translate.TranslateElement(\n        {\n            pageLanguage: \"zh-TW\",\n            includedLanguages: \"zh-TW,en\",\n            layout: google.translate.TranslateElement.InlineLayout.SIMPLE,\n        },\n        \"google_translate_element\"\n    );\n}\n\nfunction onChangeFontSize(value) {\n}\nfunction onToggleFZSlideUp() {\n    const dropdownEl = \".fontsize__dropdown\";\n    $(dropdownEl).slideUp();\n}\nfunction onToggleFZSlideDown() {\n    const dropdownEl = \".fontsize__dropdown\";\n    $(dropdownEl).slideDown();\n}\n\n$(document).ready(() => {\n    googleTranslateElementInit();\n\n    const dataModules = [...document.querySelectorAll('[data-module=\"countup\"]')];\n    dataModules.forEach((element) => {\n        new countUp(element);\n    });\n});\n\nAOS.init();\n\nconst slider__item = document.querySelectorAll(\".slider__item\")\nconst createHeroBannerFlicking = (selector) => {\n    return new Flicking(selector, {\n        circular: true,\n        renderOnlyVisible: true,\n    })\n        .on(\"willChange\", function (e) {\n            const index = e.index;\n            onChangeHeroBannerBackground(index);\n            onChangeHeroBannerFlicking(index);\n            // TODO: 圖片 Blur-In\n            slider__item.forEach(element => {\n                element.style.filter = \"blur(8px)\"\n            });\n        })\n        .on(\"changed\", function (e) {\n            const index = e.index;\n            // TODO: 建立圖片往上位移滾動機制\n            // TODO: 圖片 Blur-Out\n            slider__item.forEach(element => {\n                element.style.filter = \"blur(0)\"\n            });\n        });\n}\n\n// 建立四個 Flicking 實例\nconst selectors = [\n    \"#slider__item__flicking--1\",\n    \"#slider__item__flicking--2\",\n    \"#slider__item__flicking--3\",\n    \"#slider__item__flicking--4\"\n];\n\nconst heroBannerFlickings = selectors.map(createHeroBannerFlicking);\n\n// 加入 Sync 插件（假設第一個為主控）\nheroBannerFlickings[0].addPlugins(\n    new Flicking.Plugins.Sync({\n        type: \"camera\",\n        synchronizedFlickingOptions: heroBannerFlickings.map(flicking => ({\n            flicking,\n            isClickable: false\n        }))\n    })\n);\nheroBannerFlickings[0].addPlugins(new Flicking.Plugins.AutoPlay({ duration: 5000 }));\nheroBannerFlickings[0].addPlugins(new Flicking.Plugins.Fade());\n\nconst onChangeHeroBannerBackground = (index) => {\n    switch (index) {\n        case 0:\n            switchToColorSet1();\n            break;\n        case 1:\n            switchToColorSet2();\n            break;\n        case 2:\n            switchToColorSet3();\n            break;\n        case 3:\n            switchToColorSet4();\n            break;\n        default:\n            break;\n    }\n};\n\nconst pagination = document.querySelectorAll('.hero__banner--pagination button')\nconst onChangeHeroBannerFlicking = (index) => {\n    pagination.forEach(element => {\n        element.classList.remove('active')\n    });\n    pagination[index].classList.add('active')\n};\n\nconst onChangeHeroFlicking = (index) => {\n    heroBannerFlickings[0].moveTo(index)\n};\n\nconst flickingOptions = {\n    circular: true,\n    bound: true,\n    panelsPerView: 1,\n    align: \"center\",\n    moveType: \"strict\",\n    renderOnlyVisible: true,\n};\n\ndocument.querySelectorAll(\".item__slider--flicking\").forEach((el) => {\n    const flicking = new Flicking(el, flickingOptions);\n\n    const arrowPlugin = new Flicking.Plugins.Arrow({\n        parentEl: el, // 指向每個自己的容器\n        prevElSelector: \".flicking-arrow-prev\",\n        nextElSelector: \".flicking-arrow-next\",\n    });\n\n    flicking.addPlugins(arrowPlugin);\n});\n"]}